import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.  Give me only JSON response."},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap (Budget-Conscious Couple)\",\n    \"focus\": \"Sightseeing, Free Attractions, Affordable Entertainment\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night (depending on the season)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-s/15/1a/21/a7/exterior.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1266,\n        \"longitude\": -115.1656\n      },\n      \"rating\": 3.5,\n      \"description\": \"Affordable option on the north end of the Strip. Features the Adventuredome indoor theme park (costs extra), free circus acts, and several dining options. Rooms are basic but clean.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-s/15/07/d4/09/excalibur-hotel-casino.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1740\n      },\n      \"rating\": 3.7,\n      \"description\": \"Medieval-themed hotel at the south end of the Strip. Offers affordable rooms, a pool area, and several dining choices. Good location for exploring the southern Strip.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$60 - $100 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-s/1b/1e/63/8f/luxor-hotel-casino.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0956,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 3.8,\n      \"description\": \"Iconic pyramid-shaped hotel.  Rooms can be found at reasonable prices, especially during off-peak seasons. Has a variety of restaurants and attractions.\"\n    },\n   {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50 - $90 per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-s/10/b1/9a/8f/the-stratosphere-hotel.jpg?w=900&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1475,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.5,\n      \"description\": \"Offers great views from the tower (ticketed). Rooms are generally affordable. Located a bit further north on the Strip, but easily accessible by bus or rideshare.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Entertainment\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo opportunity. Get there early to avoid crowds.\",\n          \"placeImageUrl\": \"https://www.lasvegasnevada.gov/getattachment/Government/Departments/Public-Works/Artwork/Welcome-to-Las-Vegas-Sign/sign_night_small_optimized.jpg?lang=en-US\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Early morning (7:00 AM - 8:00 AM) or late evening (10:00 PM - 11:00 PM)\",\n          \"timeToTravelFromHotel\": \"Varies depending on hotel location.  If staying at Luxor/Excalibur: 5-10 minute walk. From Circus Circus, consider a rideshare or bus.\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful, free floral display that changes seasonally.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-winter-scene-1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1745\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Mid-morning (9:00 AM - 11:00 AM) to avoid peak crowds.\",\n          \"timeToTravelFromPrevious\": \"15-20 minute walk from Welcome Sign (or rideshare/bus)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular free fountain show with music. Runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-day-2022-1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1129,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Evening (after sunset) for the best experience.  Check show schedule.\",\n          \"timeToTravelFromPrevious\": \"Adjacent to the Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, window shop, and people-watch.  Enjoy the sights and sounds.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b58b9d6e9af2a478e76c065/16:9/w_2560,c_limit/Las-Vegas-Strip_GettyImages-683860007.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Evening, after dark, to see all the lights.\",\n          \"timeToTravelFromPrevious\": \"Walking from the Bellagio\"\n        },\n        {\n          \"placeName\": \"Free Shows (Mirage Volcano, etc.)\",\n          \"placeDetails\": \"Check show schedules for free attractions like the Mirage Volcano or the Fremont Street Experience light show (downtown).\",\n          \"placeImageUrl\": \"https://assets.mirage.com/content/dam/MGM/mirage/entertainment/volcano/mirage-volcano-hero-1920x1080.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1224,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Evenings. Check specific show times.\",\n          \"timeToTravelFromPrevious\": \"Walking North on strip\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & High Roller View\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a giant canopy screen.  Street performers and a lively atmosphere.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/08/FSE-Homepage-Hero-Image.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free (except for some attractions like the SlotZilla zipline)\",\n          \"bestTimeToVisit\": \"Evening, after dark, for the Viva Vision light shows.\",\n          \"timeToTravelFromHotel\": \"Rideshare or bus from the Strip (allow 30-45 minutes)\"\n        },\n        {\n          \"placeName\": \"Downtown Las Vegas Murals\",\n          \"placeDetails\": \"Explore the vibrant street art scene in the downtown area.\",\n          \"placeImageUrl\": \"https://downtown.vegas/wp-content/uploads/2023/03/mural-guide-featured-downtown-vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1711,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Daytime is best for viewing the murals.\",\n          \"timeToTravelFromPrevious\": \"Walking around Fremont Street area\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (LINQ Promenade)\",\n          \"placeDetails\": \"Large observation wheel with panoramic views of the city. Consider going during happy hour for discounted drinks.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/linq/things-to-do/high-roller/overview/linq-high-roller-overview-carousel-mobile.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1161,\n            \"longitude\": -115.1695\n          },\n          \"ticketPricing\": \"Varies; look for discounts online.  Consider daytime tickets for better value.\",\n          \"bestTimeToVisit\": \"Sunset for the best views (but more expensive). Daytime for lower prices.\",\n          \"timeToTravelFromPrevious\": \"Rideshare or bus back to the Strip (allow 30-45 minutes)\"\n        },\n         {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Explore the vibrant street with multiple shops and restaurants.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b80f820b84265193a613908/16:9/w_2560%2Cc_limit/The-LINQ-Promenade__Courtesy-The-LINQ-Promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1164,\n            \"longitude\": -115.1694\n          },\n          \"ticketPricing\": \"Free (except for shopping/dining)\",\n          \"bestTimeToVisit\": \"Evening, before or after High Roller.\",\n          \"timeToTravelFromPrevious\": \"Walking distance from the High Roller\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Pool Time & Budget-Friendly Entertainment\",\n      \"activities\": [\n        {\n          \"placeName\": \"Hotel Pool Time\",\n          \"placeDetails\": \"Relax by the pool at your hotel.  Many hotels have free pool access for guests.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/03/circus-circus-pool.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1266,\n            \"longitude\": -115.1656\n          },\n          \"ticketPricing\": \"Free (for hotel guests)\",\n          \"bestTimeToVisit\": \"Mid-morning to afternoon.\",\n          \"timeToTravelFromHotel\": \"At your hotel\"\n        },\n        {\n          \"placeName\": \"Explore the Shops at Crystals\",\n          \"placeDetails\": \"High-end shopping mall at CityCenter.  Window shop and admire the architecture.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/03/crystals-shopping-center.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1110,\n            \"longitude\": -115.1766\n          },\n          \"ticketPricing\": \"Free (except for shopping)\",\n          \"bestTimeToVisit\": \"Afternoon.\",\n          \"timeToTravelFromHotel\": \"Walk to city center using the free tram\"\n        },\n        {\n          \"placeName\": \"M&M's World / Coca-Cola Store\",\n          \"placeDetails\": \"Fun, colorful attractions with photo opportunities and candy/merchandise.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a9826bb09d5934b5976e6b2/16:9/w_2560,c_limit/M-Ms-World-Las-Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1097,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free to enter (shopping is extra)\",\n          \"bestTimeToVisit\": \"Afternoon\",\n          \"timeToTravelFromPrevious\": \"Walking distance\"\n        },\n        {\n          \"placeName\": \"People Watching\",\n          \"placeDetails\": \"Enjoy the street with multiple unique people and enjoy the place.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5b58b9d6e9af2a478e76c065/16:9/w_2560,c_limit/Las-Vegas-Strip_GettyImages-683860007.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1097,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free\",\n          \"bestTimeToVisit\": \"Any\",\n          \"timeToTravelFromPrevious\": \"Free\"\n        }\n      ]\n    }\n  }\n}\n```\n"},
      ],
    },
  ],
});
